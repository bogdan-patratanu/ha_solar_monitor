# Deye SG04LP3 - Three Phase Low Voltage Hybrid Inverter
# Models: SUN-8K/10K/12K-SG04LP3-EU

metadata:
  manufacturer: "Deye"
  model: "SG04LP3"
  description: "Three Phase Low Voltage Hybrid Inverter (8-12kW)"
  voltage: "LV"
  supported_models:
    - "SUN-8K-SG04LP3-EU"
    - "SUN-10K-SG04LP3-EU"
    - "SUN-12K-SG04LP3-EU"

connection:
  timeout: 10
  batch_size: 10

# Include common sensor packages
includes:
  - deye/common/inverter.yaml
  - deye/common/battery.yaml
  - deye/common/grid_3p.yaml
  - deye/common/load_3p.yaml
  - deye/common/pv1.yaml
  - deye/common/pv2.yaml
  - deye/common/pv.yaml

sensors:
  pv_power_total:
    address: [672, 673]
    data_type: sum
    name: "PV power total"
    unit: "W"
    factor: 1
    icon: "mdi:solar-power-variant"
    device_class: "power"
    state_class: "measurement"

  pv_production_daily:
    address: 529
    data_type: uint16
    name: "PV production daily"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:solar-power"
    device_class: "energy"
    state_class: "total_increasing"

  pv_production_total:
    address: [534, 535]
    data_type: uint32
    endianness: little
    name: "PV production total"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:solar-power"
    device_class: "energy"
    state_class: "total_increasing"
