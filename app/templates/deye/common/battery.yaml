# Common battery sensors for Deye inverters
# Used by: SG0XLP1, SG0XLP3, SG0XHP3
# Location: templates/deye/common/battery.yaml

sensors:
  battery_voltage:
    address: 587
    data_type: uint16
    name: "Battery Voltage"
    unit: "V"
    factor: 0.01
    icon: "mdi:battery"
    device_class: "voltage"
    state_class: "measurement"
  
  battery_soc:
    address: 588
    data_type: uint16
    name: "Battery SOC from BMS"
    unit: "%"
    factor: 1
    icon: "mdi:battery"
    device_class: "battery"
    state_class: "measurement"
  
  battery_power:
    address: 590
    data_type: int16
    name: "Battery Power"
    unit: "W"
    factor: 1  # Signed value
    icon: "mdi:battery-charging"
    device_class: "power"
    state_class: "measurement"

  battery_current:
    address: [591, 594]
    data_type: int32
    endianness: little
    name: "Battery Current"
    unit: "A"
    factor: 0.01
    icon: "mdi:current-dc"
    device_class: "current"
    state_class: "measurement"
  
  battery_charge_daily:
    address: 514
    data_type: uint16
    name: "Battery charge daily"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:battery-charging"
    device_class: "energy"
    state_class: "total_increasing"
  
  battery_discharge_daily:
    address: 515
    data_type: uint16
    name: "Battery discharge daily"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:battery-minus"
    device_class: "energy"
    state_class: "total_increasing"
  
  battery_charge_total:
    address: [516, 517]
    data_type: uint32
    endianness: little
    name: "Battery charge total"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:battery-charging-100"
    device_class: "energy"
    state_class: "total_increasing"
  
  battery_discharge_total:
    address: [518, 519]
    data_type: uint32
    endianness: little
    name: "Battery discharge total"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:battery-arrow-down"
    device_class: "energy"
    state_class: "total_increasing"
