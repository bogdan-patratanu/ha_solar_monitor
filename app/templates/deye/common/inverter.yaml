# Common inverter sensors for Deye inverters
# Used by: SG0XLP1, SG0XLP3, SG0XHP3
# Location: templates/deye/common/inverter.yaml

sensors:
  inverter_rated_power:
    address: [20, 21]
    data_type: int32
    endianness: little
    name: "Rated Power"
    unit: "W"
    factor: 0.1
    icon: "mdi:power-plug"
    device_class: "power"
    state_class: "measurement"

  inverter_modbus_id:
    address: 1
    data_type: uint16
    name: "Modbus address"

  inverter_serial_number:
    address: [3, 4, 5, 6, 7]
    data_type: raw
    name: "Serial number"
    string: true
  
  inverter_date_time:
    address: [62, 63, 64]
    data_type: datetime
    name: "Date and time"
  
  inverter_state:
    address: 59
    data_type: uint16
    name: "Inverter state"
    lookup:
      0: "Standby"
      1: "Self-test"
      2: "Normal"
      3: "Alarm"
      4: "Fault"
      default: "Unknown"

  inverter_alarm:
    address: [553, 554]
    data_type: uint32
    endianness: little
    name: "Inverter alarm"
  
  inverter_fault:
    address: [555, 556, 557, 558]
    data_type: raw
    name: "Inverter fault"
    icon: "mdi:message-alert-outline"
  
  inverter_temperature:
    address: 541
    data_type: uint16
    name: "Inverter temperature"
    unit: "Â°C"
    factor: 0.1
    offset: 1000
    icon: "mdi:thermometer"
    device_class: "temperature"
    state_class: "measurement"

  
