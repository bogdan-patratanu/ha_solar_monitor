# Custom battery sensors
# Modify register addresses and scaling factors for your inverter
# Location: templates/custom/common/battery.yaml

sensors:
  battery_voltage:
    address: 183  # CHANGE THIS to your inverter's register
    data_type: uint16
    name: "Battery Voltage"
    unit: "V"
    factor: 0.01  # CHANGE THIS if needed
    icon: "mdi:battery"
    device_class: "voltage"
    state_class: "measurement"
  
  battery_soc:
    address: 184  # CHANGE THIS
    data_type: uint16
    name: "Battery SOC"
    unit: "%"
    factor: 1
    icon: "mdi:battery"
    device_class: "battery"
    state_class: "measurement"
  
  battery_power:
    address: 190  # CHANGE THIS
    data_type: int16
    name: "Battery Power"
    unit: "W"
    factor: 1  # Signed value - CHANGE THIS if needed
    icon: "mdi:battery-charging"
    device_class: "power"
    state_class: "measurement"
  
  battery_current:
    address: 191  # CHANGE THIS
    data_type: int16
    name: "Battery Current"
    unit: "A"
    factor: 0.01  # Signed value - CHANGE THIS if needed
    icon: "mdi:current-dc"
    device_class: "current"
    state_class: "measurement"
  
  battery_temperature:
    address: 182  # CHANGE THIS
    data_type: uint16
    name: "Battery Temperature"
    unit: "Â°C"
    factor: 0.1
    offset: -1000  # Some inverters need offset adjustment
    icon: "mdi:thermometer"
    device_class: "temperature"
    state_class: "measurement"
  
  daily_battery_charge:
    address: 70  # CHANGE THIS
    data_type: uint16
    name: "Daily Battery Charge"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:battery-charging"
    device_class: "energy"
    state_class: "total_increasing"
  
  daily_battery_discharge:
    address: 71  # CHANGE THIS
    data_type: uint16
    name: "Daily Battery Discharge"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:battery-minus"
    device_class: "energy"
    state_class: "total_increasing"
  
  total_battery_charge:
    address: [72, 73]  # CHANGE THIS - 32-bit value (two registers)
    data_type: uint32
    name: "Total Battery Charge"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:battery-charging-100"
    device_class: "energy"
    state_class: "total_increasing"
  
  total_battery_discharge:
    address: [74, 75]  # CHANGE THIS - 32-bit value
    data_type: uint32
    name: "Total Battery Discharge"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:battery-arrow-down"
    device_class: "energy"
    state_class: "total_increasing"
