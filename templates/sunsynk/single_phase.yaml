metadata:
  manufacturer: "Sunsynk"
  model: "Single Phase"
  description: "Sunsynk single phase hybrid inverter (5kW-8kW)"
  supported_models:
    - "SUNSYNK-5K-SG03LP1"
    - "SUNSYNK-5.5K-SG03LP1"
    - "SUNSYNK-8K-SG03LP1"

communication:
  default_port: 8899
  default_modbus_id: 1
  default_timeout: 10
  default_batch_size: 60
  driver: "pymodbus"

# Sunsynk uses same register mapping as Deye (rebranded)
sensors:
  battery_voltage:
    address: 183
    name: "Battery Voltage"
    unit: "V"
    factor: 0.01
    icon: "mdi:battery"
    device_class: "voltage"
    state_class: "measurement"
  
  battery_soc:
    address: 184
    name: "Battery SOC"
    unit: "%"
    factor: 1
    icon: "mdi:battery"
    device_class: "battery"
    state_class: "measurement"
  
  battery_power:
    address: 190
    name: "Battery Power"
    unit: "W"
    factor: -1
    icon: "mdi:battery-charging"
    device_class: "power"
    state_class: "measurement"
  
  battery_current:
    address: 191
    name: "Battery Current"
    unit: "A"
    factor: -0.01
    icon: "mdi:current-dc"
    device_class: "current"
    state_class: "measurement"
  
  battery_temperature:
    address: 182
    name: "Battery Temperature"
    unit: "°C"
    factor: 0.1
    icon: "mdi:thermometer"
    device_class: "temperature"
    state_class: "measurement"

  pv_voltage:
    address: 109
    name: "PV1 Voltage"
    unit: "V"
    factor: 0.1
    icon: "mdi:solar-panel"
    device_class: "voltage"
    state_class: "measurement"
  
  pv_current:
    address: 110
    name: "PV1 Current"
    unit: "A"
    factor: 0.1
    icon: "mdi:current-dc"
    device_class: "current"
    state_class: "measurement"
  
  pv_power:
    address: 186
    name: "PV Power"
    unit: "W"
    factor: 1
    icon: "mdi:solar-power"
    device_class: "power"
    state_class: "measurement"
  
  pv2_voltage:
    address: 111
    name: "PV2 Voltage"
    unit: "V"
    factor: 0.1
    icon: "mdi:solar-panel"
    device_class: "voltage"
    state_class: "measurement"
  
  pv2_current:
    address: 112
    name: "PV2 Current"
    unit: "A"
    factor: 0.1
    icon: "mdi:current-dc"
    device_class: "current"
    state_class: "measurement"

  inverter_power:
    address: 175
    name: "Inverter Power"
    unit: "W"
    factor: -1
    icon: "mdi:power-plug"
    device_class: "power"
    state_class: "measurement"
  
  inverter_voltage:
    address: 154
    name: "Inverter Voltage"
    unit: "V"
    factor: 0.1
    icon: "mdi:flash"
    device_class: "voltage"
    state_class: "measurement"
  
  inverter_frequency:
    address: 193
    name: "Inverter Frequency"
    unit: "Hz"
    factor: 0.01
    icon: "mdi:sine-wave"
    state_class: "measurement"

  grid_voltage:
    address: 150
    name: "Grid Voltage"
    unit: "V"
    factor: 0.1
    icon: "mdi:transmission-tower"
    device_class: "voltage"
    state_class: "measurement"
  
  grid_frequency:
    address: 79
    name: "Grid Frequency"
    unit: "Hz"
    factor: 0.01
    icon: "mdi:sine-wave"
    state_class: "measurement"
  
  grid_power:
    address: 169
    name: "Grid Power"
    unit: "W"
    factor: -1
    icon: "mdi:transmission-tower"
    device_class: "power"
    state_class: "measurement"

  load_power:
    address: 178
    name: "Load Power"
    unit: "W"
    factor: -1
    icon: "mdi:home-lightning-bolt"
    device_class: "power"
    state_class: "measurement"

  daily_energy:
    address: 108
    name: "Daily Energy"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:solar-power"
    device_class: "energy"
    state_class: "total_increasing"
  
  total_energy:
    address: [96, 97]
    name: "Total Energy"
    unit: "kWh"
    factor: 0.1
    icon: "mdi:solar-power"
    device_class: "energy"
    state_class: "total_increasing"
    is_32bit: true

  temperature:
    address: 90
    name: "Inverter Temperature"
    unit: "°C"
    factor: 0.1
    icon: "mdi:thermometer"
    device_class: "temperature"
    state_class: "measurement"
